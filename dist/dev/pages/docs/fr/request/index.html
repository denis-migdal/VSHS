<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf8"/>
        <title>VSHS</title>
        <!--
        <meta name="theme-color" media="(prefers-color-scheme: light)" content="cyan" />
        <meta name="theme-color" media="(prefers-color-scheme: dark)" content="black" />
        -->
        <meta name="color-scheme" content="dark light">
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link   href="./index.css"  rel="stylesheet" blocking="render">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/brython/3.13.0/brython.min.js"></script>
        <script  src="./index.js"  type="module"     blocking="render" async></script>
    </head>
    <body>
        <main>

<h1 id="lire-une-requÃªte-http-reÃ§ue">Lire une requÃªte HTTP reÃ§ue</h1>
<p>La requÃªte HTTP reÃ§ue est donnÃ©e par le premier argument du <em>request handler</em> sous la forme d&#39;une instance de <a href="https://developer.mozilla.org/fr/docs/Web/API/Request"><code>Request</code></a>.</p>
<h2 id="lire-le-contenu-de-la-rÃ©ponse">Lire le contenu de la rÃ©ponse</h2>
<p>En gÃ©nÃ©ral vous souhaiterez lire les donnÃ©es au format JSON grÃ¢ce Ã  la mÃ©thode asynchrone <code>.json()</code> :</p>
<vshs-playground name="echo (json)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (json)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>

<p>Vous pouvez aussi utiliser d&#39;autres mÃ©thodes asynchrone de <code>Response</code> afin de lire diffÃ©rent types de donnÃ©es (cliquez pour afficher) :</p>
<details>
    <summary><b>Texte</b> : avec <js-code>.text()</js-code>, retourne un <js-code>string</js-code>.</summary>
    <vshs-playground name="echo (string)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (string)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
</details>
<details>
    <summary><b>Paires clefs-valeurs</b> : avec <js-code>.formData()</js-code>, retourne un <a href="https://developer.mozilla.org/fr/docs/Web/API/FormData"><js-code>FormData</js-code></a> (peut servir Ã  initialiser un  <a href="https://developer.mozilla.org/fr/docs/Web/API/URLSearchParams"><js-code>URLSearchParams</js-code></a>).</summary>
    <vshs-playground name="echo (URLSearchParams)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (URLSearchParams)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
    <vshs-playground name="echo (FormData)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (FormData)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
    ğŸ’¡ PrÃ©fÃ©rez les <js-code>URLFormParams</js-code> aux <js-code>FormData</js-code>, le format de ces derniers changeant en fonction de la plateforme utilisÃ©e.
</details>
<details>
    <summary><b>DonnÃ©es binaires</b> : usuellement avec <js-code>.bytes()</js-code>, retourne un <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array"><js-code>Uint8Array</js-code></a>, mais aussi <js-code>.arrayBuffer()</js-code>, retourne un <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><js-code>ArrayBuffer</js-code></a>.</summary>
    <vshs-playground name="echo (Uint8Array)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (Uint8Array)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
</details>
<details>
    <summary><b>Fichiers</b> : avec `.blob()`, retourne un <a href="https://developer.mozilla.org/fr/docs/Web/API/Blob"><js-code>Blob</js-code></a>.</summary>
    <vshs-playground name="echo (Blob)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (Blob)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
</details>
<details>
    <summary><b>Flux</b> : avec <js-code>.body</js-code>, retourne un <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream"><js-code>ReadableStream</js-code></a>.</summary>
    <vshs-playground name="echo (body)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (body)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>
</details>

<p>âš  Le corps de la requÃªte ne peut Ãªtre lue qu&#39;une seule fois. La propriÃ©tÃ© <code>.bodyUsed</code> indique s&#39;il a Ã©tÃ© lu.</p>
<h2 id="extraire-des-informations-de-lurl">Extraire des informations de l&#39;URL</h2>
<p>L&#39;URL utilisÃ©e pour gÃ©nÃ©rer la requÃªte est stockÃ©e dans <code>request.url</code>. Ã€ partir de celle-ci vous pouvez gÃ©nÃ©rer un <code>URLSearchParams</code> afin de manipuler les paramÃ¨tres transmis via l&#39;URL :</p>
<vshs-playground name="echo (url search)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (url search)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>

<h2 id="en-tÃªte">En-tÃªte</h2>
<p>Vous pouvez accÃ©der aux en-tÃªtes de la requÃªte via la propriÃ©tÃ© <code>.headers</code> retournant une instance de <a href="https://developer.mozilla.org/fr/docs/Web/API/Headers"><code>Headers</code></a>.</p>
<vshs-playground name="echo (body)" show="index.code,output">
</vshs-playground>
<div style="text-align:right"><a href="../../../playground/?example=echo (body)"><i>Tester l'exemple dans le bac Ã  sable</i></a></div>



</main>
    </body>
</html>